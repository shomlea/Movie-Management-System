<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Add Staff Assignment</title>
</head>
<body>
<h1>Add New Staff Assignment</h1>

<form th:object="${staffAssignment}" th:action="@{/staff-assignments}" method="post">

    <label for="screeningId">Screening:</label><br>
    <select id="screeningId" th:field="*{screening.id}" required>
        <option value="">-- Select Screening --</option>
        <option th:each="s : ${availableScreenings}"
                th:value="${s.id}"
                th:text="|ID: ${s.id}, Date: ${s.date}, Movie: ${s.movie.title}|">
            Screening Details
        </option>
    </select>
    <span th:if="${#fields.hasErrors('screening')}" th:errors="*{screening}" style="color: red;"></span>
    <br><br>

    <label for="staffId">Staff:</label><br>
    <select id="staffId" th:field="*{staff.id}" required>
        <option value="">-- Select Staff --</option>
        <option th:each="st : ${availableStaff}"
                th:value="${st.id}"
                th:text="|ID: ${st.id}, Name: ${st.name}|">
            Staff Details
        </option>
    </select>
    <span th:if="${#fields.hasErrors('staff')}" th:errors="*{staff}" style="color: red;"></span>
    <span th:if="${errorMessage}" th:text="${errorMessage}" style="color: red;"></span>
    <br><br>

    <button type="submit">Add Assignment</button>
</form>

<br>
<a th:href="@{/staff-assignments}">Back to List</a>

</body>
</html>